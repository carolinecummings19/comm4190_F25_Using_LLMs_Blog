<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.8.26">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="author" content="Caroline Cummings">
<meta name="dcterms.date" content="2025-12-16">
<meta name="description" content="Requesting recommendations to implement in my life to run more.">

<title>Trying to Find Motivation to Run with ChatGPT – Caroline’s Explorations with LLMs</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
</style>


<script src="../../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../../site_libs/quarto-nav/headroom.min.js"></script>
<script src="../../site_libs/clipboard/clipboard.min.js"></script>
<script src="../../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../../site_libs/quarto-search/fuse.min.js"></script>
<script src="../../site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="../../">
<script src="../../site_libs/quarto-html/quarto.js" type="module"></script>
<script src="../../site_libs/quarto-html/tabsets/tabsets.js" type="module"></script>
<script src="../../site_libs/quarto-html/axe/axe-check.js" type="module"></script>
<script src="../../site_libs/quarto-html/popper.min.js"></script>
<script src="../../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../../site_libs/quarto-html/anchor.min.js"></script>
<link href="../../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../../site_libs/quarto-html/quarto-syntax-highlighting-587c61ba64f3a5504c4d52d930310e48.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="../../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../../site_libs/bootstrap/bootstrap-960d9d362f81d399278ec3e29b622b37.min.css" rel="stylesheet" append-hash="true" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>


<link rel="stylesheet" href="../../styles.css">
</head>

<body class="nav-fixed fullcontent quarto-light">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top quarto-banner">
    <nav class="navbar navbar-expand-lg " data-bs-theme="dark">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container mx-auto">
    <a class="navbar-brand" href="../../index.html">
    <span class="navbar-title">Caroline’s Explorations with LLMs</span>
    </a>
  </div>
            <div id="quarto-search" class="" title="Search"></div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" role="menu" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll ms-auto">
  <li class="nav-item">
    <a class="nav-link" href="../../about.html"> 
<span class="menu-text">About</span></a>
  </li>  
  <li class="nav-item compact">
    <a class="nav-link" href="https://github.com/"> <i class="bi bi-github" role="img">
</i> 
<span class="menu-text"></span></a>
  </li>  
  <li class="nav-item compact">
    <a class="nav-link" href="https://twitter.com"> <i class="bi bi-twitter" role="img">
</i> 
<span class="menu-text"></span></a>
  </li>  
</ul>
          </div> <!-- /navcollapse -->
            <div class="quarto-navbar-tools">
</div>
      </div> <!-- /container-fluid -->
    </nav>
</header>
<!-- content -->
<header id="title-block-header" class="quarto-title-block default page-columns page-full">
  <div class="quarto-title-banner page-columns page-full">
    <div class="quarto-title column-body">
      <h1 class="title">Trying to Find Motivation to Run with ChatGPT</h1>
                  <div>
        <div class="description">
          Requesting recommendations to implement in my life to run more.
        </div>
      </div>
                          <div class="quarto-categories">
                <div class="quarto-category">Long Distance Running</div>
                <div class="quarto-category">ChatGPT 5</div>
                <div class="quarto-category">productivity</div>
              </div>
                  </div>
  </div>
    
  
  <div class="quarto-title-meta">

      <div>
      <div class="quarto-title-meta-heading">Author</div>
      <div class="quarto-title-meta-contents">
               <p>Caroline Cummings </p>
            </div>
    </div>
      
      <div>
      <div class="quarto-title-meta-heading">Published</div>
      <div class="quarto-title-meta-contents">
        <p class="date">December 16, 2025</p>
      </div>
    </div>
    
      
    </div>
    
  
  </header><div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
<!-- margin-sidebar -->
    
<!-- main -->
<main class="content quarto-banner-title-block" id="quarto-document-content">





<section id="chatgpt-5.2-as-my-running-buddy" class="level1">
<h1>ChatGPT 5.2 as my running buddy</h1>
<p>Ever since I ran the Philadelphia Marathon, I have not been running very much. At first, it was because I was recovering, and then I became really busy wrapping up the semester. And now that the semester is done, I have lost much of my motivation to run and want help finding it again. I wondered what are some things I could implement during my winter break that will help me gain my motivation back? I will have a lot of unstructured free time and want to get back in shape for my next marathon in March.</p>
<p>So, I turned to ChatGPT to chat about what sorts of things I should do. I gave it all of the information I’ve mentioned so far and requested it help. It responded with:</p>
<div style="background-color:#f6f8fa; border-left:4px solid #90D5FF; padding:12px; font-family: 'Times New Roman', monospace; font-size: 0.80rem;">
<section id="reframe-running-as-play-not-training" class="level2">
<h2 class="anchored" data-anchor-id="reframe-running-as-play-not-training">1. Reframe running as <em>play</em>, not training</h2>
<p>Right now your brain still associates running with structure, discipline, and obligation (long runs, workouts, plans). That’s a motivation killer after a marathon.</p>
<p><strong>For 2–3 weeks, ban the word “training.”</strong> Instead:</p>
<ul>
<li>Run <strong>without pace goals</strong></li>
<li>Pick routes based on <em>vibes</em> (river path, quiet neighborhoods, trails)</li>
<li>Let runs be anywhere from <strong>15–40 minutes</strong></li>
<li>Stop early if you want—on purpose</li>
</ul>
<p>This helps your nervous system relearn that running ≠ pressure.</p>
<hr>
</section>
<section id="create-a-bare-minimum-rule" class="level2">
<h2 class="anchored" data-anchor-id="create-a-bare-minimum-rule">2. Create a “bare minimum” rule</h2>
<p>Motivation often comes <em>after</em> action, not before it.</p>
<p>Set a rule like:</p>
<blockquote class="blockquote">
<p>“If I put on running shoes and step outside, I’ve succeeded—even if I walk back in.”</p>
</blockquote>
<p>Or:</p>
<ul>
<li>10 minutes total</li>
<li>1 mile max</li>
<li>Out-and-back so you can turn around anytime</li>
</ul>
<p>Ironically, once you lower the bar, you’ll often keep going.</p>
<hr>
</section>
<section id="add-novelty-your-brain-is-bored-not-tired" class="level2">
<h2 class="anchored" data-anchor-id="add-novelty-your-brain-is-bored-not-tired">3. Add novelty (your brain is bored, not tired)</h2>
<p>You’re someone who thrives on projects and iteration—your brain wants <em>new inputs</em>.</p>
<p>Try:</p>
<ul>
<li><p><strong>New running gear</strong> (shoes, socks, cold-weather layers)</p></li>
<li><p><strong>New format</strong>: fartlek by feel, trail runs, point-to-point routes</p></li>
<li><p><strong>Audio novelty</strong>:</p>
<ul>
<li>Only allow a certain podcast <em>while running</em></li>
<li>Audiobook you’re genuinely excited about</li>
<li>Music you’ve never run to before</li>
</ul></li>
</ul>
<p>Running motivation often returns when the experience feels <em>different</em>.</p>
<hr>
</section>
<section id="make-winter-break-a-consistency-experiment-not-a-comeback" class="level2">
<h2 class="anchored" data-anchor-id="make-winter-break-a-consistency-experiment-not-a-comeback">4. Make winter break a “consistency experiment,” not a comeback</h2>
<p>Instead of “getting back into shape,” frame this as:</p>
<blockquote class="blockquote">
<p>“How little can I run and still feel like a runner again?”</p>
</blockquote>
<p>Examples:</p>
<ul>
<li>Run <strong>3 days/week</strong>, no matter the distance</li>
<li>Or run <strong>every other day</strong>, even if short</li>
<li>Track <strong>days run</strong>, not miles or pace</li>
</ul>
<p>This builds identity (“I’m someone who runs”) without demanding performance.</p>
<hr>
</section>
<section id="use-reflection-to-reconnect-with-why-you-run" class="level2">
<h2 class="anchored" data-anchor-id="use-reflection-to-reconnect-with-why-you-run">5. Use reflection to reconnect with <em>why</em> you run</h2>
<p>You’re very reflective—use that.</p>
<p>Try one of these:</p>
<ul>
<li><p>Write a <strong>post-marathon debrief</strong>:</p>
<ul>
<li>What surprised you?</li>
<li>What felt meaningful?</li>
<li>What didn’t matter as much as you thought?</li>
</ul></li>
<li><p>Write a <strong>“why I run” note</strong> that’s <em>not</em> about races</p></li>
<li><p>Scroll back through Strava memories and note what made runs feel good</p></li>
</ul>
<p>Motivation often returns when you remember what running gives you <em>emotionally</em>, not competitively.</p>
<hr>
</section>
<section id="temporarily-detach-from-race-goals" class="level2">
<h2 class="anchored" data-anchor-id="temporarily-detach-from-race-goals">6. Temporarily detach from race goals</h2>
<p>You don’t need a “next race” right now.</p>
<p>Instead, use soft goals:</p>
<ul>
<li>“Run enough to enjoy coffee more afterward”</li>
<li>“Run so winter doesn’t feel as stagnant”</li>
<li>“Run to feel like myself again”</li>
</ul>
<p>Pressure-free goals keep running in your life without turning it into another obligation.</p>
<hr>
</section>
<section id="cross-train-in-ways-that-support-running-without-forcing-it" class="level2">
<h2 class="anchored" data-anchor-id="cross-train-in-ways-that-support-running-without-forcing-it">7. Cross-train in ways that support running (without forcing it)</h2>
<p>If running feels heavy, support it indirectly:</p>
<ul>
<li>Strength training 1–2x/week</li>
<li>Mobility or yoga</li>
<li>Easy cycling or long walks</li>
</ul>
<p>Often, once your body feels good again, running motivation follows naturally.</p>
<hr>
</section>
<section id="accept-that-this-lull-is-part-of-being-a-runner" class="level2">
<h2 class="anchored" data-anchor-id="accept-that-this-lull-is-part-of-being-a-runner">8. Accept that this lull is part of being a runner</h2>
<p>This is important: <strong>losing motivation after a marathon is normal</strong>, not a failure.</p>
<p>Elite runners take off-seasons. Recreational runners do too. The difference is they trust motivation will return—because it always does.</p>
<p>You didn’t stop being a runner. You’re just between seasons.</p>
<hr>
<section id="a-simple-winter-break-reset-plan-example" class="level3">
<h3 class="anchored" data-anchor-id="a-simple-winter-break-reset-plan-example">A simple winter-break reset plan (example)</h3>
<ul>
<li>3 runs per week</li>
<li>No pace targets</li>
<li>20–40 minutes</li>
<li>One run purely for enjoyment</li>
<li>One run with music/podcast</li>
<li>One “optional” run that can be skipped guilt-free</li>
</ul>
</section>
</section>
</div>
<p>All of the recommendations I thought were insightful and motivating, except for maybe the first one. I don’t think I normally use the word training very much in my day-to-day life so probably wouldn’t benefit from the reframing of the phrase. However, I think the general sentiment of not thinking of running as training but as something more enjoyable would be beneficial.</p>
<p>One of the recommendations I will try to implement is to add novelty to my runs. I will be home most of winter break so will try to run in new places to add some excitement and something to look forward to. My dad also enjoys mountain biking so will ask him to go on rides so I can incorporate more cross-training in the next month or so. Additionally, I will focus on being consistent which I think is the most important thing for me to regain.</p>
<p>I then told ChatGPT that I had a marathon on March 1st and for any more recommendations and here is what it said:</p>
<section id="concise-12-week-base-rebuild-plan" class="level3" style="background-color:#f6f8fa; border-left:4px solid #90D5FF; padding:12px; font-family: 'Times New Roman', monospace; font-size: 0.80rem;">
<h3 class="anchored" data-anchor-id="concise-12-week-base-rebuild-plan">Concise 12-Week Base Rebuild Plan</h3>
<p><strong>1. Frequency &gt; Pace</strong></p>
<ul>
<li>Run <strong>4 days/week</strong> (5 max if you feel good)</li>
<li>All runs <strong>easy conversational pace</strong> for the first 4–5 weeks</li>
</ul>
<p><strong>2. Weekly Structure (simple)</strong></p>
<ul>
<li><strong>2 easy runs</strong> (20–45 min)</li>
<li><strong>1 long run</strong> (build gradually)</li>
<li><strong>1 light workout</strong> (only after week 3)</li>
</ul>
<p><strong>3. Long Run Progression</strong></p>
<ul>
<li>Start where you are (even 4–5 miles)</li>
<li>Increase <strong>~1 mile every 1–2 weeks</strong></li>
<li>Cap at <strong>75–80% of race distance</strong></li>
</ul>
<p><strong>4. Delay Intensity</strong></p>
<ul>
<li>Weeks 1–3: easy only + strides (4–6 × 20s)</li>
<li>Weeks 4–8: add <strong>1 workout/week</strong> (tempo <em>or</em> intervals, not both)</li>
<li>Weeks 9–11: maintain fitness, don’t chase PRs</li>
<li>Week 12: <strong>taper</strong></li>
</ul>
<p><strong>5. Keep It Enjoyable</strong></p>
<ul>
<li>One “no-watch” run per week</li>
<li>Music/podcast allowed</li>
<li>Skip a run if motivation is low—<strong>don’t skip the week</strong></li>
</ul>
<p><strong>6. Strength (non-negotiable, minimal)</strong></p>
<ul>
<li><strong>2×/week, 20 min</strong></li>
<li>Glutes, hips, calves, core</li>
</ul>
<p><strong>7. Mental Rule</strong></p>
<blockquote class="blockquote">
<p>“I’m rebuilding, not proving anything.”</p>
</blockquote>
</section>
<p>I’ve asked LLMs a couple times for running plans and this one seems the most realistic to me. Usually, they recommend to log 40-60 mile weeks by running 5-7 times a week, which is not super feasible to me. I enjoy the flexibility of this plan and the gradual ease into the intensity of runs. By talking with it previously about my low motivation and describing my past running experience, I think it was able to provide an adapted running plan for me.</p>
<p>Overall, I’m happy with this conversation and hope to use the recommendations in the upcoming weeks.</p>


</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
  window.document.addEventListener("DOMContentLoaded", function (event) {
    const icon = "";
    const anchorJS = new window.AnchorJS();
    anchorJS.options = {
      placement: 'right',
      icon: icon
    };
    anchorJS.add('.anchored');
    const isCodeAnnotation = (el) => {
      for (const clz of el.classList) {
        if (clz.startsWith('code-annotation-')) {                     
          return true;
        }
      }
      return false;
    }
    const onCopySuccess = function(e) {
      // button target
      const button = e.trigger;
      // don't keep focus
      button.blur();
      // flash "checked"
      button.classList.add('code-copy-button-checked');
      var currentTitle = button.getAttribute("title");
      button.setAttribute("title", "Copied!");
      let tooltip;
      if (window.bootstrap) {
        button.setAttribute("data-bs-toggle", "tooltip");
        button.setAttribute("data-bs-placement", "left");
        button.setAttribute("data-bs-title", "Copied!");
        tooltip = new bootstrap.Tooltip(button, 
          { trigger: "manual", 
            customClass: "code-copy-button-tooltip",
            offset: [0, -8]});
        tooltip.show();    
      }
      setTimeout(function() {
        if (tooltip) {
          tooltip.hide();
          button.removeAttribute("data-bs-title");
          button.removeAttribute("data-bs-toggle");
          button.removeAttribute("data-bs-placement");
        }
        button.setAttribute("title", currentTitle);
        button.classList.remove('code-copy-button-checked');
      }, 1000);
      // clear code selection
      e.clearSelection();
    }
    const getTextToCopy = function(trigger) {
      const outerScaffold = trigger.parentElement.cloneNode(true);
      const codeEl = outerScaffold.querySelector('code');
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
    const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
      text: getTextToCopy
    });
    clipboard.on('success', onCopySuccess);
    if (window.document.getElementById('quarto-embedded-source-code-modal')) {
      const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
        text: getTextToCopy,
        container: window.document.getElementById('quarto-embedded-source-code-modal')
      });
      clipboardModal.on('success', onCopySuccess);
    }
      var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
      var mailtoRegex = new RegExp(/^mailto:/);
        var filterRegex = new RegExp("https:\/\/carolinecummings19\.github\.io\/comm4190_F25_Using_LLMs_Blog\/");
      var isInternal = (href) => {
          return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
      }
      // Inspect non-navigation links and adorn them if external
     var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
      for (var i=0; i<links.length; i++) {
        const link = links[i];
        if (!isInternal(link.href)) {
          // undo the damage that might have been done by quarto-nav.js in the case of
          // links that we want to consider external
          if (link.dataset.originalHref !== undefined) {
            link.href = link.dataset.originalHref;
          }
        }
      }
    function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
      const config = {
        allowHTML: true,
        maxWidth: 500,
        delay: 100,
        arrow: false,
        appendTo: function(el) {
            return el.parentElement;
        },
        interactive: true,
        interactiveBorder: 10,
        theme: 'quarto',
        placement: 'bottom-start',
      };
      if (contentFn) {
        config.content = contentFn;
      }
      if (onTriggerFn) {
        config.onTrigger = onTriggerFn;
      }
      if (onUntriggerFn) {
        config.onUntrigger = onUntriggerFn;
      }
      window.tippy(el, config); 
    }
    const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
    for (var i=0; i<noterefs.length; i++) {
      const ref = noterefs[i];
      tippyHover(ref, function() {
        // use id or data attribute instead here
        let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
        try { href = new URL(href).hash; } catch {}
        const id = href.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note) {
          return note.innerHTML;
        } else {
          return "";
        }
      });
    }
    const xrefs = window.document.querySelectorAll('a.quarto-xref');
    const processXRef = (id, note) => {
      // Strip column container classes
      const stripColumnClz = (el) => {
        el.classList.remove("page-full", "page-columns");
        if (el.children) {
          for (const child of el.children) {
            stripColumnClz(child);
          }
        }
      }
      stripColumnClz(note)
      if (id === null || id.startsWith('sec-')) {
        // Special case sections, only their first couple elements
        const container = document.createElement("div");
        if (note.children && note.children.length > 2) {
          container.appendChild(note.children[0].cloneNode(true));
          for (let i = 1; i < note.children.length; i++) {
            const child = note.children[i];
            if (child.tagName === "P" && child.innerText === "") {
              continue;
            } else {
              container.appendChild(child.cloneNode(true));
              break;
            }
          }
          if (window.Quarto?.typesetMath) {
            window.Quarto.typesetMath(container);
          }
          return container.innerHTML
        } else {
          if (window.Quarto?.typesetMath) {
            window.Quarto.typesetMath(note);
          }
          return note.innerHTML;
        }
      } else {
        // Remove any anchor links if they are present
        const anchorLink = note.querySelector('a.anchorjs-link');
        if (anchorLink) {
          anchorLink.remove();
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        if (note.classList.contains("callout")) {
          return note.outerHTML;
        } else {
          return note.innerHTML;
        }
      }
    }
    for (var i=0; i<xrefs.length; i++) {
      const xref = xrefs[i];
      tippyHover(xref, undefined, function(instance) {
        instance.disable();
        let url = xref.getAttribute('href');
        let hash = undefined; 
        if (url.startsWith('#')) {
          hash = url;
        } else {
          try { hash = new URL(url).hash; } catch {}
        }
        if (hash) {
          const id = hash.replace(/^#\/?/, "");
          const note = window.document.getElementById(id);
          if (note !== null) {
            try {
              const html = processXRef(id, note.cloneNode(true));
              instance.setContent(html);
            } finally {
              instance.enable();
              instance.show();
            }
          } else {
            // See if we can fetch this
            fetch(url.split('#')[0])
            .then(res => res.text())
            .then(html => {
              const parser = new DOMParser();
              const htmlDoc = parser.parseFromString(html, "text/html");
              const note = htmlDoc.getElementById(id);
              if (note !== null) {
                const html = processXRef(id, note);
                instance.setContent(html);
              } 
            }).finally(() => {
              instance.enable();
              instance.show();
            });
          }
        } else {
          // See if we can fetch a full url (with no hash to target)
          // This is a special case and we should probably do some content thinning / targeting
          fetch(url)
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.querySelector('main.content');
            if (note !== null) {
              // This should only happen for chapter cross references
              // (since there is no id in the URL)
              // remove the first header
              if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
                note.children[0].remove();
              }
              const html = processXRef(null, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      }, function(instance) {
      });
    }
        let selectedAnnoteEl;
        const selectorForAnnotation = ( cell, annotation) => {
          let cellAttr = 'data-code-cell="' + cell + '"';
          let lineAttr = 'data-code-annotation="' +  annotation + '"';
          const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
          return selector;
        }
        const selectCodeLines = (annoteEl) => {
          const doc = window.document;
          const targetCell = annoteEl.getAttribute("data-target-cell");
          const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
          const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
          const lines = annoteSpan.getAttribute("data-code-lines").split(",");
          const lineIds = lines.map((line) => {
            return targetCell + "-" + line;
          })
          let top = null;
          let height = null;
          let parent = null;
          if (lineIds.length > 0) {
              //compute the position of the single el (top and bottom and make a div)
              const el = window.document.getElementById(lineIds[0]);
              top = el.offsetTop;
              height = el.offsetHeight;
              parent = el.parentElement.parentElement;
            if (lineIds.length > 1) {
              const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
              const bottom = lastEl.offsetTop + lastEl.offsetHeight;
              height = bottom - top;
            }
            if (top !== null && height !== null && parent !== null) {
              // cook up a div (if necessary) and position it 
              let div = window.document.getElementById("code-annotation-line-highlight");
              if (div === null) {
                div = window.document.createElement("div");
                div.setAttribute("id", "code-annotation-line-highlight");
                div.style.position = 'absolute';
                parent.appendChild(div);
              }
              div.style.top = top - 2 + "px";
              div.style.height = height + 4 + "px";
              div.style.left = 0;
              let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
              if (gutterDiv === null) {
                gutterDiv = window.document.createElement("div");
                gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
                gutterDiv.style.position = 'absolute';
                const codeCell = window.document.getElementById(targetCell);
                const gutter = codeCell.querySelector('.code-annotation-gutter');
                gutter.appendChild(gutterDiv);
              }
              gutterDiv.style.top = top - 2 + "px";
              gutterDiv.style.height = height + 4 + "px";
            }
            selectedAnnoteEl = annoteEl;
          }
        };
        const unselectCodeLines = () => {
          const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
          elementsIds.forEach((elId) => {
            const div = window.document.getElementById(elId);
            if (div) {
              div.remove();
            }
          });
          selectedAnnoteEl = undefined;
        };
          // Handle positioning of the toggle
      window.addEventListener(
        "resize",
        throttle(() => {
          elRect = undefined;
          if (selectedAnnoteEl) {
            selectCodeLines(selectedAnnoteEl);
          }
        }, 10)
      );
      function throttle(fn, ms) {
      let throttle = false;
      let timer;
        return (...args) => {
          if(!throttle) { // first call gets through
              fn.apply(this, args);
              throttle = true;
          } else { // all the others get throttled
              if(timer) clearTimeout(timer); // cancel #2
              timer = setTimeout(() => {
                fn.apply(this, args);
                timer = throttle = false;
              }, ms);
          }
        };
      }
        // Attach click handler to the DT
        const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
        for (const annoteDlNode of annoteDls) {
          annoteDlNode.addEventListener('click', (event) => {
            const clickedEl = event.target;
            if (clickedEl !== selectedAnnoteEl) {
              unselectCodeLines();
              const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
              if (activeEl) {
                activeEl.classList.remove('code-annotation-active');
              }
              selectCodeLines(clickedEl);
              clickedEl.classList.add('code-annotation-active');
            } else {
              // Unselect the line
              unselectCodeLines();
              clickedEl.classList.remove('code-annotation-active');
            }
          });
        }
    const findCites = (el) => {
      const parentEl = el.parentElement;
      if (parentEl) {
        const cites = parentEl.dataset.cites;
        if (cites) {
          return {
            el,
            cites: cites.split(' ')
          };
        } else {
          return findCites(el.parentElement)
        }
      } else {
        return undefined;
      }
    };
    var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
    for (var i=0; i<bibliorefs.length; i++) {
      const ref = bibliorefs[i];
      const citeInfo = findCites(ref);
      if (citeInfo) {
        tippyHover(citeInfo.el, function() {
          var popup = window.document.createElement('div');
          citeInfo.cites.forEach(function(cite) {
            var citeDiv = window.document.createElement('div');
            citeDiv.classList.add('hanging-indent');
            citeDiv.classList.add('csl-entry');
            var biblioDiv = window.document.getElementById('ref-' + cite);
            if (biblioDiv) {
              citeDiv.innerHTML = biblioDiv.innerHTML;
            }
            popup.appendChild(citeDiv);
          });
          return popup.innerHTML;
        });
      }
    }
  });
  </script>
</div> <!-- /content -->




</body></html>